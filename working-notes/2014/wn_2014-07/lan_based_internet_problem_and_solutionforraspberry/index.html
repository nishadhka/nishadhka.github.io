<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>LAN based Internet problem and solutionforRaspberry - Nishadh KA</title>
    <meta property="og:title" content="LAN based Internet problem and solutionforRaspberry - Nishadh KA">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="##LANbasedInternetproblemand_solutionforRaspberry## - LAN based internet for Raspberry pi (RPi) is not on the go, the netsat, network interfaces has to be edited, and also based on the gateway of &amp;hellip;">
      <meta property="og:description" content="##LANbasedInternetproblemand_solutionforRaspberry## - LAN based internet for Raspberry pi (RPi) is not on the go, the netsat, network interfaces has to be edited, and also based on the gateway of &amp;hellip;">
      
    

    
    
    
    <meta name="twitter:image" content="/images/logo.png">
    
    

    

    
    


<link href='//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  
  <body class="working-notes">
    <header class="masthead">
      <h1><a href="/">Nishadh KA</a></h1>



      <nav class="menu">
  <input id="menu-check" type="checkbox" />
  <label id="menu-label" for="menu-check" class="unselectable">
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/about/">About</a></li>
  
  <li><a href="/working-notes/2019/">Working notes</a></li>
  
  <li><a href="/archives/">archives</a></li>
  
  <li><a href="/categories/">categories</a></li>
  
  <li><a href="/tags/">tags</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>LAN based Internet problem and solutionforRaspberry</h1>

<h3>
  2014-07-02</h3>
<hr>


      </header>



<p>##LAN<em>based</em>Internet<em>problem</em>and_solutionforRaspberry##
- LAN based internet for Raspberry pi (RPi) is not on the go, the netsat, network interfaces has to be edited, and also based on the gateway of server it has to be changed
- current case used server was TP-LINK MR3420, it is a small single board computer based 3G modem, wirless device, its gateway address is 192.168.0.254. A 3G dongle was connected with device and LAN from this device is connected into RPi.
- The Ip address additon on SD card has to be 192.168.0.100, it is from other LAN connection to this wireless deivce is having similar adress and gives atuomatically by the wireless device.
- Even with this no internet was pinging, possible way to avoid is DHCP was removed and static is invoked
- for example, the <code>netstat -nr</code> will show up only the</p>

<pre><code>Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
192.168.0.0     *         255.255.255.0   U         0 0          0 eth0
</code></pre>

<p>without UG flag <a href="http://raspberrypi.stackexchange.com/questions/7146/static-local-ip-gateway-config-on-startup-issues">from</a>, that means no gateway, no way to access internet.</p>

<ol>
<li>the solution is to add following entries in
pi@raspberrypi ~ $ cat /etc/network/interfaces</li>
</ol>

<pre><code>auto lo

iface lo inet loopback
iface eth0 inet static
address 192.168.0.100
netmask 255.255.255.0
gateway 192.168.1.1


allow-hotplug wlan0
iface wlan0 inet manual
wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf
iface default inet dhcp
</code></pre>

<p>and in
pi@raspberrypi ~ $ cat /etc/resolv.conf</p>

<pre><code>DNS 218.248.240.179
nameserver 218.248.240.179
</code></pre>

<p>and invoke</p>

<pre><code>sudo /sbin/route add -net 0.0.0.0 gw 192.168.0.254 eth0
sudo /sbin/route add -net 0.0.0.0 gw 192.168.1.1 eth0
</code></pre>

<ol>
<li>it makes three line in netstat table with these gatway address, after this the google was getting pinged</li>
</ol>

<p>Reference:
1. <a href="http://raspberrypi.stackexchange.com/questions/7624/setting-a-static-eth0-ip">http://raspberrypi.stackexchange.com/questions/7624/setting-a-static-eth0-ip</a>
2. <a href="http://raspberrypi.stackexchange.com/questions/7146/static-local-ip-gateway-config-on-startup-issues">http://raspberrypi.stackexchange.com/questions/7146/static-local-ip-gateway-config-on-startup-issues</a>
3. <a href="http://www.soslug.org/wiki/getting_your_raspberry_pi_to_run_on_a_static_ip_with_internet">http://www.soslug.org/wiki/getting_your_raspberry_pi_to_run_on_a_static_ip_with_internet</a>
4. <a href="http://www.penguintutor.com/linux/raspberrypi-webserver">http://www.penguintutor.com/linux/raspberrypi-webserver</a>
5. <a href="http://pihw.wordpress.com/guides/direct-network-connection/">http://pihw.wordpress.com/guides/direct-network-connection/</a>
6. <a href="http://www.penguintutor.com/linux/raspberrypi-headless">http://www.penguintutor.com/linux/raspberrypi-headless</a></p>


  <footer>
  
  



<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">Design cerdits to <a href="https://github.com/rbind/yihui">yihui</a> and <a href="https://github.com/dmulholl/ivy">ivy</a>, a <a href="https://gohugo.io/">hugo</a> site</div>
  
  </footer>
  </article>
  
  </body>
</html>

